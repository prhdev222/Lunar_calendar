import React, { useState, useEffect } from 'react';
import dayjs from 'dayjs';
import 'dayjs/locale/th';
import Layout from './components/Layout';
import DatePicker from './components/DatePicker';
import HolyDayCard from './components/HolyDayCard';
import Calendar from './components/Calendar';
import LoadingSpinner from './components/LoadingSpinner';

// ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ dayjs ‡πÉ‡∏´‡πâ‡πÉ‡∏ä‡πâ‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢
dayjs.locale('th');

// ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ß‡∏±‡∏ô‡∏û‡∏£‡∏∞‡∏õ‡∏µ 2568-2569 (2025-2026) ‡∏ï‡∏≤‡∏°‡∏õ‡∏è‡∏¥‡∏ó‡∏¥‡∏ô‡∏à‡∏£‡∏¥‡∏á‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
// ‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á‡∏à‡∏≤‡∏Å: ‡∏™‡∏≥‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏û‡∏∏‡∏ó‡∏ò‡∏®‡∏≤‡∏™‡∏ô‡∏≤‡πÅ‡∏´‡πà‡∏á‡∏ä‡∏≤‡∏ï‡∏¥, ThaiLunar.com, ‡πÅ‡∏•‡∏∞‡πÅ‡∏´‡∏•‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏ô‡πà‡∏≤‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏ñ‡∏∑‡∏≠
const fallbackHolyDays = {
  // ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô 1 (‡∏°‡∏Å‡∏£‡∏≤‡∏Ñ‡∏° 2568/2025)
  '2025-01-06': { type: 'quarter', name: '‡∏Ç‡∏∂‡πâ‡∏ô 8 ‡∏Ñ‡πà‡∏≥ ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô 2', icon: 'üåì' },
  '2025-01-13': { type: 'full_moon', name: '‡∏Ç‡∏∂‡πâ‡∏ô 15 ‡∏Ñ‡πà‡∏≥ ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô 2', icon: 'üåï' },
  '2025-01-21': { type: 'quarter', name: '‡πÅ‡∏£‡∏° 8 ‡∏Ñ‡πà‡∏≥ ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô 2', icon: 'üåó' },
  '2025-01-28': { type: 'new_moon', name: '‡πÅ‡∏£‡∏° 15 ‡∏Ñ‡πà‡∏≥ ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô 2', icon: 'üåë' },
  
  // ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô 2 (‡∏Å‡∏∏‡∏°‡∏†‡∏≤‡∏û‡∏±‡∏ô‡∏ò‡πå 2568/2025) - ‡∏°‡∏≤‡∏Ü‡∏ö‡∏π‡∏ä‡∏≤
  '2025-02-05': { type: 'quarter', name: '‡∏Ç‡∏∂‡πâ‡∏ô 8 ‡∏Ñ‡πà‡∏≥ ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô 3', icon: 'üåì' },
  '2025-02-12': { type: 'full_moon', name: '‡∏ß‡∏±‡∏ô‡∏°‡∏≤‡∏Ü‡∏ö‡∏π‡∏ä‡∏≤', icon: 'üåï', major: true },
  '2025-02-20': { type: 'quarter', name: '‡πÅ‡∏£‡∏° 8 ‡∏Ñ‡πà‡∏≥ ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô 3', icon: 'üåó' },
  '2025-02-26': { type: 'new_moon', name: '‡πÅ‡∏£‡∏° 14 ‡∏Ñ‡πà‡∏≥ ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô 3', icon: 'üåë' },
  
  // ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô 3 (‡∏°‡∏µ‡∏ô‡∏≤‡∏Ñ‡∏° 2568/2025)
  '2025-03-06': { type: 'quarter', name: '‡∏Ç‡∏∂‡πâ‡∏ô 8 ‡∏Ñ‡πà‡∏≥ ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô 4', icon: 'üåì' },
  '2025-03-13': { type: 'full_moon', name: '‡∏Ç‡∏∂‡πâ‡∏ô 15 ‡∏Ñ‡πà‡∏≥ ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô 4', icon: 'üåï' },
  '2025-03-21': { type: 'quarter', name: '‡πÅ‡∏£‡∏° 8 ‡∏Ñ‡πà‡∏≥ ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô 4', icon: 'üåó' },
  '2025-03-28': { type: 'new_moon', name: '‡πÅ‡∏£‡∏° 15 ‡∏Ñ‡πà‡∏≥ ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô 4', icon: 'üåë' },
  
  // ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô 4 (‡πÄ‡∏°‡∏©‡∏≤‡∏¢‡∏ô 2568/2025)
  '2025-04-05': { type: 'quarter', name: '‡∏Ç‡∏∂‡πâ‡∏ô 8 ‡∏Ñ‡πà‡∏≥ ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô 5', icon: 'üåì' },
  '2025-04-12': { type: 'full_moon', name: '‡∏Ç‡∏∂‡πâ‡∏ô 15 ‡∏Ñ‡πà‡∏≥ ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô 5', icon: 'üåï' },
  '2025-04-20': { type: 'quarter', name: '‡πÅ‡∏£‡∏° 8 ‡∏Ñ‡πà‡∏≥ ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô 5', icon: 'üåó' },
  '2025-04-26': { type: 'new_moon', name: '‡πÅ‡∏£‡∏° 14 ‡∏Ñ‡πà‡∏≥ ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô 5', icon: 'üåë' },
  
  // ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô 5 (‡∏û‡∏§‡∏©‡∏†‡∏≤‡∏Ñ‡∏° 2568/2025) - ‡∏ß‡∏¥‡∏™‡∏≤‡∏Ç‡∏ö‡∏π‡∏ä‡∏≤
  '2025-05-04': { type: 'quarter', name: '‡∏Ç‡∏∂‡πâ‡∏ô 8 ‡∏Ñ‡πà‡∏≥ ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô 6', icon: 'üåì' },
  '2025-05-11': { type: 'full_moon', name: '‡∏ß‡∏±‡∏ô‡∏ß‡∏¥‡∏™‡∏≤‡∏Ç‡∏ö‡∏π‡∏ä‡∏≤', icon: 'üåï', major: true },
  '2025-05-19': { type: 'quarter', name: '‡∏ß‡∏±‡∏ô‡∏≠‡∏±‡∏è‡∏ê‡∏°‡∏µ‡∏ö‡∏π‡∏ä‡∏≤', icon: 'üåó', major: true },
  '2025-05-26': { type: 'new_moon', name: '‡πÅ‡∏£‡∏° 15 ‡∏Ñ‡πà‡∏≥ ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô 6', icon: 'üåë' },
  
  // ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô 6 (‡∏°‡∏¥‡∏ñ‡∏∏‡∏ô‡∏≤‡∏¢‡∏ô 2568/2025)
  '2025-06-03': { type: 'quarter', name: '‡∏Ç‡∏∂‡πâ‡∏ô 8 ‡∏Ñ‡πà‡∏≥ ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô 7', icon: 'üåì' },
  '2025-06-10': { type: 'full_moon', name: '‡∏Ç‡∏∂‡πâ‡∏ô 15 ‡∏Ñ‡πà‡∏≥ ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô 7', icon: 'üåï' },
  '2025-06-18': { type: 'quarter', name: '‡πÅ‡∏£‡∏° 8 ‡∏Ñ‡πà‡∏≥ ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô 7', icon: 'üåó' },
  '2025-06-25': { type: 'new_moon', name: '‡πÅ‡∏£‡∏° 15 ‡∏Ñ‡πà‡∏≥ ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô 7', icon: 'üåë' },
  
  // ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô 7 (‡∏Å‡∏£‡∏Å‡∏é‡∏≤‡∏Ñ‡∏° 2568/2025) - ‡∏≠‡∏≤‡∏™‡∏≤‡∏¨‡∏´‡∏ö‡∏π‡∏ä‡∏≤
  '2025-07-03': { type: 'quarter', name: '‡∏Ç‡∏∂‡πâ‡∏ô 8 ‡∏Ñ‡πà‡∏≥ ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô 8', icon: 'üåì' },
  '2025-07-10': { type: 'full_moon', name: '‡∏ß‡∏±‡∏ô‡∏≠‡∏≤‡∏™‡∏≤‡∏¨‡∏´‡∏ö‡∏π‡∏ä‡∏≤', icon: 'üåï', major: true },
  '2025-07-18': { type: 'quarter', name: '‡πÅ‡∏£‡∏° 8 ‡∏Ñ‡πà‡∏≥ ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô 8', icon: 'üåó' },
  '2025-07-25': { type: 'new_moon', name: '‡πÅ‡∏£‡∏° 15 ‡∏Ñ‡πà‡∏≥ ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô 8', icon: 'üåë' },
  
  // ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô 8 (‡∏™‡∏¥‡∏á‡∏´‡∏≤‡∏Ñ‡∏° 2568/2025)
  '2025-08-02': { type: 'quarter', name: '‡∏Ç‡∏∂‡πâ‡∏ô 8 ‡∏Ñ‡πà‡∏≥ ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô 9', icon: 'üåì' },
  '2025-08-09': { type: 'full_moon', name: '‡∏Ç‡∏∂‡πâ‡∏ô 15 ‡∏Ñ‡πà‡∏≥ ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô 9', icon: 'üåï' },
  '2025-08-17': { type: 'quarter', name: '‡πÅ‡∏£‡∏° 8 ‡∏Ñ‡πà‡∏≥ ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô 9', icon: 'üåó' },
  '2025-08-23': { type: 'new_moon', name: '‡πÅ‡∏£‡∏° 14 ‡∏Ñ‡πà‡∏≥ ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô 9', icon: 'üåë' },
  '2025-08-31': { type: 'quarter', name: '‡∏Ç‡∏∂‡πâ‡∏ô 8 ‡∏Ñ‡πà‡∏≥ ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô 10', icon: 'üåì' },
  
  // ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô 9 (‡∏Å‡∏±‡∏ô‡∏¢‡∏≤‡∏¢‡∏ô 2568/2025)
  '2025-09-07': { type: 'full_moon', name: '‡∏Ç‡∏∂‡πâ‡∏ô 15 ‡∏Ñ‡πà‡∏≥ ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô 10', icon: 'üåï' },
  '2025-09-15': { type: 'quarter', name: '‡πÅ‡∏£‡∏° 8 ‡∏Ñ‡πà‡∏≥ ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô 10', icon: 'üåó' },
  '2025-09-22': { type: 'new_moon', name: '‡πÅ‡∏£‡∏° 15 ‡∏Ñ‡πà‡∏≥ ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô 10', icon: 'üåë' },
  '2025-09-30': { type: 'quarter', name: '‡∏Ç‡∏∂‡πâ‡∏ô 8 ‡∏Ñ‡πà‡∏≥ ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô 11', icon: 'üåì' },
  
  // ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô 10 (‡∏ï‡∏∏‡∏•‡∏≤‡∏Ñ‡∏° 2568/2025) - ‡∏≠‡∏≠‡∏Å‡∏û‡∏£‡∏£‡∏©‡∏≤
  '2025-10-07': { type: 'full_moon', name: '‡∏ß‡∏±‡∏ô‡∏≠‡∏≠‡∏Å‡∏û‡∏£‡∏£‡∏©‡∏≤', icon: 'üåï', major: true },
  '2025-10-15': { type: 'quarter', name: '‡πÅ‡∏£‡∏° 8 ‡∏Ñ‡πà‡∏≥ ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô 11', icon: 'üåó' },
  '2025-10-21': { type: 'new_moon', name: '‡πÅ‡∏£‡∏° 14 ‡∏Ñ‡πà‡∏≥ ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô 11', icon: 'üåë' },
  '2025-10-29': { type: 'quarter', name: '‡∏Ç‡∏∂‡πâ‡∏ô 8 ‡∏Ñ‡πà‡∏≥ ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô 12', icon: 'üåì' },
  
  // ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô 11 (‡∏û‡∏§‡∏®‡∏à‡∏¥‡∏Å‡∏≤‡∏¢‡∏ô 2568/2025) - ‡∏•‡∏≠‡∏¢‡∏Å‡∏£‡∏∞‡∏ó‡∏á
  '2025-11-05': { type: 'full_moon', name: '‡∏ß‡∏±‡∏ô‡∏•‡∏≠‡∏¢‡∏Å‡∏£‡∏∞‡∏ó‡∏á', icon: 'üåï', major: true },
  '2025-11-13': { type: 'quarter', name: '‡πÅ‡∏£‡∏° 8 ‡∏Ñ‡πà‡∏≥ ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô 12', icon: 'üåó' },
  '2025-11-20': { type: 'new_moon', name: '‡πÅ‡∏£‡∏° 15 ‡∏Ñ‡πà‡∏≥ ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô 12', icon: 'üåë' },
  '2025-11-28': { type: 'quarter', name: '‡∏Ç‡∏∂‡πâ‡∏ô 8 ‡∏Ñ‡πà‡∏≥ ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô 1', icon: 'üåì' },
  
  // ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô 12 (‡∏ò‡∏±‡∏ô‡∏ß‡∏≤‡∏Ñ‡∏° 2568/2025)
  '2025-12-05': { type: 'full_moon', name: '‡∏Ç‡∏∂‡πâ‡∏ô 15 ‡∏Ñ‡πà‡∏≥ ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô 1', icon: 'üåï' },
  '2025-12-13': { type: 'quarter', name: '‡πÅ‡∏£‡∏° 8 ‡∏Ñ‡πà‡∏≥ ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô 1', icon: 'üåó' },
  '2025-12-19': { type: 'new_moon', name: '‡πÅ‡∏£‡∏° 14 ‡∏Ñ‡πà‡∏≥ ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô 1', icon: 'üåë' },
  '2025-12-27': { type: 'quarter', name: '‡∏Ç‡∏∂‡πâ‡∏ô 8 ‡∏Ñ‡πà‡∏≥ ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô 2', icon: 'üåì' },

  // ===== ‡∏õ‡∏µ 2569 (2026) =====
  
  // ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô 1 (‡∏°‡∏Å‡∏£‡∏≤‡∏Ñ‡∏° 2569/2026)
  '2026-01-03': { type: 'full_moon', name: '‡∏Ç‡∏∂‡πâ‡∏ô 15 ‡∏Ñ‡πà‡∏≥ ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏¢‡∏µ‡πà (2)', icon: 'üåï' },
  '2026-01-11': { type: 'quarter', name: '‡πÅ‡∏£‡∏° 8 ‡∏Ñ‡πà‡∏≥ ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏¢‡∏µ‡πà (2)', icon: 'üåó' },
  '2026-01-18': { type: 'new_moon', name: '‡πÅ‡∏£‡∏° 15 ‡∏Ñ‡πà‡∏≥ ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏¢‡∏µ‡πà (2)', icon: 'üåë' },
  '2026-01-26': { type: 'quarter', name: '‡∏Ç‡∏∂‡πâ‡∏ô 8 ‡∏Ñ‡πà‡∏≥ ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏™‡∏≤‡∏° (3)', icon: 'üåì' },
  
  // ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô 2 (‡∏Å‡∏∏‡∏°‡∏†‡∏≤‡∏û‡∏±‡∏ô‡∏ò‡πå 2569/2026)
  '2026-02-02': { type: 'full_moon', name: '‡∏Ç‡∏∂‡πâ‡∏ô 15 ‡∏Ñ‡πà‡∏≥ ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏™‡∏≤‡∏° (3)', icon: 'üåï' },
  '2026-02-10': { type: 'quarter', name: '‡πÅ‡∏£‡∏° 8 ‡∏Ñ‡πà‡∏≥ ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏™‡∏≤‡∏° (3)', icon: 'üåó' },
  '2026-02-16': { type: 'new_moon', name: '‡πÅ‡∏£‡∏° 14 ‡∏Ñ‡πà‡∏≥ ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏™‡∏≤‡∏° (3)', icon: 'üåë' },
  '2026-02-24': { type: 'quarter', name: '‡∏Ç‡∏∂‡πâ‡∏ô 8 ‡∏Ñ‡πà‡∏≥ ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏™‡∏µ‡πà (4)', icon: 'üåì' },
  
  // ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô 3 (‡∏°‡∏µ‡∏ô‡∏≤‡∏Ñ‡∏° 2569/2026) - ‡∏°‡∏≤‡∏Ü‡∏ö‡∏π‡∏ä‡∏≤
  '2026-03-03': { type: 'full_moon', name: '‡∏ß‡∏±‡∏ô‡∏°‡∏≤‡∏Ü‡∏ö‡∏π‡∏ä‡∏≤', icon: 'üåï', major: true },
  '2026-03-11': { type: 'quarter', name: '‡πÅ‡∏£‡∏° 8 ‡∏Ñ‡πà‡∏≥ ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏™‡∏µ‡πà (4)', icon: 'üåó' },
  '2026-03-18': { type: 'new_moon', name: '‡πÅ‡∏£‡∏° 15 ‡∏Ñ‡πà‡∏≥ ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏™‡∏µ‡πà (4)', icon: 'üåë' },
  '2026-03-26': { type: 'quarter', name: '‡∏Ç‡∏∂‡πâ‡∏ô 8 ‡∏Ñ‡πà‡∏≥ ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏´‡πâ‡∏≤ (5)', icon: 'üåì' },
  
  // ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô 4 (‡πÄ‡∏°‡∏©‡∏≤‡∏¢‡∏ô 2569/2026)
  '2026-04-02': { type: 'full_moon', name: '‡∏Ç‡∏∂‡πâ‡∏ô 15 ‡∏Ñ‡πà‡∏≥ ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏´‡πâ‡∏≤ (5)', icon: 'üåï' },
  '2026-04-10': { type: 'quarter', name: '‡πÅ‡∏£‡∏° 8 ‡∏Ñ‡πà‡∏≥ ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏´‡πâ‡∏≤ (5)', icon: 'üåó' },
  '2026-04-16': { type: 'new_moon', name: '‡πÅ‡∏£‡∏° 14 ‡∏Ñ‡πà‡∏≥ ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏´‡πâ‡∏≤ (5)', icon: 'üåë' },
  '2026-04-24': { type: 'quarter', name: '‡∏Ç‡∏∂‡πâ‡∏ô 8 ‡∏Ñ‡πà‡∏≥ ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏´‡∏Å (6)', icon: 'üåì' },
  
  // ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô 5 (‡∏û‡∏§‡∏©‡∏†‡∏≤‡∏Ñ‡∏° 2569/2026) - ‡∏ß‡∏¥‡∏™‡∏≤‡∏Ç‡∏ö‡∏π‡∏ä‡∏≤
  '2026-05-01': { type: 'full_moon', name: '‡∏Ç‡∏∂‡πâ‡∏ô 15 ‡∏Ñ‡πà‡∏≥ ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏´‡∏Å (6)', icon: 'üåï' },
  '2026-05-09': { type: 'quarter', name: '‡πÅ‡∏£‡∏° 8 ‡∏Ñ‡πà‡∏≥ ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏´‡∏Å (6)', icon: 'üåó' },
  '2026-05-16': { type: 'new_moon', name: '‡πÅ‡∏£‡∏° 15 ‡∏Ñ‡πà‡∏≥ ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏´‡∏Å (6)', icon: 'üåë' },
  '2026-05-24': { type: 'quarter', name: '‡∏Ç‡∏∂‡πâ‡∏ô 8 ‡∏Ñ‡πà‡∏≥ ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡πÄ‡∏à‡πá‡∏î (7)', icon: 'üåì' },
  '2026-05-31': { type: 'full_moon', name: '‡∏ß‡∏±‡∏ô‡∏ß‡∏¥‡∏™‡∏≤‡∏Ç‡∏ö‡∏π‡∏ä‡∏≤', icon: 'üåï', major: true },
  
  // ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô 6 (‡∏°‡∏¥‡∏ñ‡∏∏‡∏ô‡∏≤‡∏¢‡∏ô 2569/2026) - ‡∏≠‡∏±‡∏è‡∏ê‡∏°‡∏µ‡∏ö‡∏π‡∏ä‡∏≤
  '2026-06-08': { type: 'quarter', name: '‡∏ß‡∏±‡∏ô‡∏≠‡∏±‡∏è‡∏ê‡∏°‡∏µ‡∏ö‡∏π‡∏ä‡∏≤', icon: 'üåó', major: true },
  '2026-06-14': { type: 'new_moon', name: '‡πÅ‡∏£‡∏° 14 ‡∏Ñ‡πà‡∏≥ ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡πÄ‡∏à‡πá‡∏î (7)', icon: 'üåë' },
  '2026-06-22': { type: 'quarter', name: '‡∏Ç‡∏∂‡πâ‡∏ô 8 ‡∏Ñ‡πà‡∏≥ ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡πÅ‡∏õ‡∏î (8)', icon: 'üåì' },
  '2026-06-29': { type: 'full_moon', name: '‡∏Ç‡∏∂‡πâ‡∏ô 15 ‡∏Ñ‡πà‡∏≥ ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡πÅ‡∏õ‡∏î (8)', icon: 'üåï' },
  
  // ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô 7 (‡∏Å‡∏£‡∏Å‡∏é‡∏≤‡∏Ñ‡∏° 2569/2026) - ‡∏≠‡∏≤‡∏™‡∏≤‡∏¨‡∏´‡∏ö‡∏π‡∏ä‡∏≤, ‡πÄ‡∏Ç‡πâ‡∏≤‡∏û‡∏£‡∏£‡∏©‡∏≤
  '2026-07-07': { type: 'quarter', name: '‡πÅ‡∏£‡∏° 8 ‡∏Ñ‡πà‡∏≥ ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡πÅ‡∏õ‡∏î (8)', icon: 'üåó' },
  '2026-07-14': { type: 'new_moon', name: '‡πÅ‡∏£‡∏° 15 ‡∏Ñ‡πà‡∏≥ ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡πÅ‡∏õ‡∏î (8)', icon: 'üåë' },
  '2026-07-22': { type: 'quarter', name: '‡∏Ç‡∏∂‡πâ‡∏ô 8 ‡∏Ñ‡πà‡∏≥ ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡πÅ‡∏õ‡∏î‡∏´‡∏•‡∏±‡∏á (88)', icon: 'üåì' },
  '2026-07-29': { type: 'full_moon', name: '‡∏ß‡∏±‡∏ô‡∏≠‡∏≤‡∏™‡∏≤‡∏¨‡∏´‡∏ö‡∏π‡∏ä‡∏≤', icon: 'üåï', major: true },
  '2026-07-30': { type: 'quarter', name: '‡∏ß‡∏±‡∏ô‡πÄ‡∏Ç‡πâ‡∏≤‡∏û‡∏£‡∏£‡∏©‡∏≤', icon: 'üåó', major: true },
  
  // ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô 8 (‡∏™‡∏¥‡∏á‡∏´‡∏≤‡∏Ñ‡∏° 2569/2026)
  '2026-08-06': { type: 'quarter', name: '‡πÅ‡∏£‡∏° 8 ‡∏Ñ‡πà‡∏≥ ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡πÅ‡∏õ‡∏î‡∏´‡∏•‡∏±‡∏á (88)', icon: 'üåó' },
  '2026-08-13': { type: 'new_moon', name: '‡πÅ‡∏£‡∏° 15 ‡∏Ñ‡πà‡∏≥ ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡πÅ‡∏õ‡∏î‡∏´‡∏•‡∏±‡∏á (88)', icon: 'üåë' },
  '2026-08-21': { type: 'quarter', name: '‡∏Ç‡∏∂‡πâ‡∏ô 8 ‡∏Ñ‡πà‡∏≥ ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡πÄ‡∏Å‡πâ‡∏≤ (9)', icon: 'üåì' },
  '2026-08-28': { type: 'full_moon', name: '‡∏Ç‡∏∂‡πâ‡∏ô 15 ‡∏Ñ‡πà‡∏≥ ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡πÄ‡∏Å‡πâ‡∏≤ (9)', icon: 'üåï' },
  
  // ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô 9 (‡∏Å‡∏±‡∏ô‡∏¢‡∏≤‡∏¢‡∏ô 2569/2026)
  '2026-09-05': { type: 'quarter', name: '‡πÅ‡∏£‡∏° 8 ‡∏Ñ‡πà‡∏≥ ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡πÄ‡∏Å‡πâ‡∏≤ (9)', icon: 'üåó' },
  '2026-09-11': { type: 'new_moon', name: '‡πÅ‡∏£‡∏° 14 ‡∏Ñ‡πà‡∏≥ ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡πÄ‡∏Å‡πâ‡∏≤ (9)', icon: 'üåë' },
  '2026-09-19': { type: 'quarter', name: '‡∏Ç‡∏∂‡πâ‡∏ô 8 ‡∏Ñ‡πà‡∏≥ ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏™‡∏¥‡∏ö (10)', icon: 'üåì' },
  '2026-09-26': { type: 'full_moon', name: '‡∏Ç‡∏∂‡πâ‡∏ô 15 ‡∏Ñ‡πà‡∏≥ ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏™‡∏¥‡∏ö (10)', icon: 'üåï' },
  
  // ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô 10 (‡∏ï‡∏∏‡∏•‡∏≤‡∏Ñ‡∏° 2569/2026) - ‡∏≠‡∏≠‡∏Å‡∏û‡∏£‡∏£‡∏©‡∏≤
  '2026-10-04': { type: 'quarter', name: '‡πÅ‡∏£‡∏° 8 ‡∏Ñ‡πà‡∏≥ ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏™‡∏¥‡∏ö (10)', icon: 'üåó' },
  '2026-10-11': { type: 'new_moon', name: '‡πÅ‡∏£‡∏° 15 ‡∏Ñ‡πà‡∏≥ ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏™‡∏¥‡∏ö (10)', icon: 'üåë' },
  '2026-10-19': { type: 'quarter', name: '‡∏Ç‡∏∂‡πâ‡∏ô 8 ‡∏Ñ‡πà‡∏≥ ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏™‡∏¥‡∏ö‡πÄ‡∏≠‡πá‡∏î (11)', icon: 'üåì' },
  '2026-10-26': { type: 'full_moon', name: '‡∏ß‡∏±‡∏ô‡∏≠‡∏≠‡∏Å‡∏û‡∏£‡∏£‡∏©‡∏≤', icon: 'üåï', major: true },
  
  // ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô 11 (‡∏û‡∏§‡∏®‡∏à‡∏¥‡∏Å‡∏≤‡∏¢‡∏ô 2569/2026) - ‡∏•‡∏≠‡∏¢‡∏Å‡∏£‡∏∞‡∏ó‡∏á
  '2026-11-03': { type: 'quarter', name: '‡πÅ‡∏£‡∏° 8 ‡∏Ñ‡πà‡∏≥ ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏™‡∏¥‡∏ö‡πÄ‡∏≠‡πá‡∏î (11)', icon: 'üåó' },
  '2026-11-09': { type: 'new_moon', name: '‡πÅ‡∏£‡∏° 14 ‡∏Ñ‡πà‡∏≥ ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏™‡∏¥‡∏ö‡πÄ‡∏≠‡πá‡∏î (11)', icon: 'üåë' },
  '2026-11-17': { type: 'quarter', name: '‡∏Ç‡∏∂‡πâ‡∏ô 8 ‡∏Ñ‡πà‡∏≥ ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏™‡∏¥‡∏ö‡∏™‡∏≠‡∏á (12)', icon: 'üåì' },
  '2026-11-24': { type: 'full_moon', name: '‡∏ß‡∏±‡∏ô‡∏•‡∏≠‡∏¢‡∏Å‡∏£‡∏∞‡∏ó‡∏á', icon: 'üåï', major: true },
  
  // ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô 12 (‡∏ò‡∏±‡∏ô‡∏ß‡∏≤‡∏Ñ‡∏° 2569/2026)
  '2026-12-02': { type: 'quarter', name: '‡πÅ‡∏£‡∏° 8 ‡∏Ñ‡πà‡∏≥ ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏™‡∏¥‡∏ö‡∏™‡∏≠‡∏á (12)', icon: 'üåó' },
  '2026-12-09': { type: 'new_moon', name: '‡πÅ‡∏£‡∏° 15 ‡∏Ñ‡πà‡∏≥ ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏™‡∏¥‡∏ö‡∏™‡∏≠‡∏á (12)', icon: 'üåë' },
  '2026-12-17': { type: 'quarter', name: '‡∏Ç‡∏∂‡πâ‡∏ô 8 ‡∏Ñ‡πà‡∏≥ ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏≠‡πâ‡∏≤‡∏¢ (1)', icon: 'üåì' },
  '2026-12-24': { type: 'full_moon', name: '‡∏Ç‡∏∂‡πâ‡∏ô 15 ‡∏Ñ‡πà‡∏≥ ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏≠‡πâ‡∏≤‡∏¢ (1)', icon: 'üåï' },
};

// ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡πÅ‡∏•‡∏∞‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏ß‡∏±‡∏ô‡∏û‡∏£‡∏∞
const HOLY_DAY_INFO = {
  full_moon: {
    description: '‡∏ß‡∏±‡∏ô‡∏û‡∏£‡∏∞‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå‡πÄ‡∏ï‡πá‡∏°‡∏î‡∏ß‡∏á ‡πÄ‡∏õ‡πá‡∏ô‡∏ß‡∏±‡∏ô‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏ò‡∏£‡∏£‡∏° ‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏®‡∏µ‡∏• ‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏ö‡∏∏‡∏ç',
    activities: [
      '‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏®‡∏µ‡∏• 8 ‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏£',
      '‡∏ü‡∏±‡∏á‡∏ò‡∏£‡∏£‡∏°‡πÄ‡∏ó‡∏®‡∏ô‡∏≤',
      '‡∏ô‡∏±‡πà‡∏á‡∏™‡∏°‡∏≤‡∏ò‡∏¥',
      '‡∏ó‡∏≥‡∏ö‡∏∏‡∏ç‡∏ï‡∏±‡∏Å‡∏ö‡∏≤‡∏ï‡∏£',
      '‡∏ñ‡∏ß‡∏≤‡∏¢‡πÄ‡∏ó‡∏µ‡∏¢‡∏ô‡∏û‡∏£‡∏£‡∏©‡∏≤',
      '‡∏™‡∏ß‡∏î‡∏°‡∏ô‡∏ï‡πå',
      '‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡∏î‡∏µ‡∏ï‡πà‡∏≤‡∏á‡πÜ'
    ]
  },
  new_moon: {
    description: '‡∏ß‡∏±‡∏ô‡∏û‡∏£‡∏∞‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå‡∏°‡∏∑‡∏î ‡πÄ‡∏õ‡πá‡∏ô‡∏ß‡∏±‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏™‡∏∞‡∏ó‡πâ‡∏≠‡∏ô‡∏ï‡∏ô‡πÄ‡∏≠‡∏á ‡∏Å‡∏≤‡∏£‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏ò‡∏£‡∏£‡∏° ‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏à‡∏¥‡∏ï‡πÉ‡∏à‡πÉ‡∏´‡πâ‡∏™‡∏á‡∏ö',
    activities: [
      '‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏®‡∏µ‡∏• 5 ‡∏´‡∏£‡∏∑‡∏≠ 8 ‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏£',
      '‡∏ô‡∏±‡πà‡∏á‡∏™‡∏°‡∏≤‡∏ò‡∏¥',
      '‡∏™‡∏ß‡∏î‡∏°‡∏ô‡∏ï‡πå',
      '‡∏≠‡πà‡∏≤‡∏ô‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠‡∏ò‡∏£‡∏£‡∏°',
      '‡∏ó‡∏≥‡∏ö‡∏∏‡∏ç',
      '‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏à‡∏¥‡∏ï‡∏ï‡∏†‡∏≤‡∏ß‡∏ô‡∏≤'
    ]
  },
  quarter: {
    description: '‡∏ß‡∏±‡∏ô‡∏≠‡∏∏‡πÇ‡∏ö‡∏™‡∏ñ ‡πÄ‡∏õ‡πá‡∏ô‡∏ß‡∏±‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏ò‡∏£‡∏£‡∏° ‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏®‡∏µ‡∏• ‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏ß‡∏±‡∏î',
    activities: [
      '‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏®‡∏µ‡∏• 8 ‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏£',
      '‡πÄ‡∏Ç‡πâ‡∏≤‡∏ß‡∏±‡∏î‡∏ü‡∏±‡∏á‡∏ò‡∏£‡∏£‡∏°',
      '‡∏ó‡∏≥‡∏ö‡∏∏‡∏ç‡∏ï‡∏±‡∏Å‡∏ö‡∏≤‡∏ï‡∏£',
      '‡∏™‡∏ß‡∏î‡∏°‡∏ô‡∏ï‡πå',
      '‡∏ô‡∏±‡πà‡∏á‡∏™‡∏°‡∏≤‡∏ò‡∏¥',
      '‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡∏î‡∏µ'
    ]
  },
  special: {
    description: '‡∏ß‡∏±‡∏ô‡∏û‡∏£‡∏∞‡πÉ‡∏´‡∏ç‡πà ‡∏ß‡∏±‡∏ô‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏ó‡∏≤‡∏á‡∏û‡∏∏‡∏ó‡∏ò‡∏®‡∏≤‡∏™‡∏ô‡∏≤ ‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏≤‡∏¢‡∏û‡∏¥‡πÄ‡∏®‡∏©',
    activities: [
      '‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏®‡∏µ‡∏• 8 ‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏£',
      '‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°‡∏û‡∏¥‡∏ò‡∏µ‡∏Å‡∏£‡∏£‡∏°‡∏û‡∏¥‡πÄ‡∏®‡∏©',
      '‡∏ü‡∏±‡∏á‡∏ò‡∏£‡∏£‡∏°‡πÄ‡∏ó‡∏®‡∏ô‡∏≤',
      '‡∏ó‡∏≥‡∏ö‡∏∏‡∏ç‡πÉ‡∏´‡∏ç‡πà',
      '‡∏ñ‡∏ß‡∏≤‡∏¢‡∏™‡∏±‡∏á‡∏Ü‡∏ó‡∏≤‡∏ô',
      '‡∏ô‡∏±‡πà‡∏á‡∏™‡∏°‡∏≤‡∏ò‡∏¥',
      '‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏ò‡∏£‡∏£‡∏°‡πÄ‡∏õ‡πá‡∏ô‡∏û‡∏¥‡πÄ‡∏®‡∏©'
    ]
  }
};

// ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏õ‡∏•‡∏á‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢
const getThaiMonth = (month) => {
  const thaiMonths = [
    '', '‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏´‡∏ô‡∏∂‡πà‡∏á (1)', '‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏™‡∏≠‡∏á (2)', '‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏™‡∏≤‡∏° (3)', '‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏™‡∏µ‡πà (4)',
    '‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏´‡πâ‡∏≤ (5)', '‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏´‡∏Å (6)', '‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡πÄ‡∏à‡πá‡∏î (7)', '‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡πÅ‡∏õ‡∏î (8)',
    '‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡πÄ‡∏Å‡πâ‡∏≤ (9)', '‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏™‡∏¥‡∏ö (10)', '‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏™‡∏¥‡∏ö‡πÄ‡∏≠‡πá‡∏î (11)', '‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏™‡∏¥‡∏ö‡∏™‡∏≠‡∏á (12)'
  ];
  return thaiMonths[month] || `‡πÄ‡∏î‡∏∑‡∏≠‡∏ô ${month}`;
};

// ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏õ‡∏•‡∏á‡∏õ‡∏µ‡πÄ‡∏õ‡πá‡∏ô‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢
const getThaiYear = (year) => {
  const animals = ['‡∏´‡∏ô‡∏π', '‡∏ß‡∏±‡∏ß', '‡πÄ‡∏™‡∏∑‡∏≠', '‡∏Å‡∏£‡∏∞‡∏ï‡πà‡∏≤‡∏¢', '‡∏°‡∏∞‡πÇ‡∏£‡∏á', '‡∏°‡∏∞‡πÄ‡∏™‡πá‡∏á', '‡∏°‡∏∞‡πÄ‡∏°‡∏µ‡∏¢', '‡∏°‡∏∞‡πÅ‡∏°', '‡∏ß‡∏≠‡∏Å', '‡∏£‡∏∞‡∏Å‡∏≤', '‡∏à‡∏≠', '‡∏Å‡∏∏‡∏ô'];
  const animalIndex = (year - 4) % 12;
  return `‡∏õ‡∏µ${animals[animalIndex]}`;
};

// ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ß‡∏±‡∏ô‡∏û‡∏£‡∏∞‡∏à‡∏≤‡∏Å fallback data
const getHolyDayDataFromFallback = (date) => {
  const dateObj = dayjs(date);
  const holyDayData = fallbackHolyDays[date];
  
  if (holyDayData) {
    const info = HOLY_DAY_INFO[holyDayData.type] || HOLY_DAY_INFO.quarter;
    const thaiMonth = getThaiMonth(dateObj.month() + 1);
    const thaiYear = getThaiYear(dateObj.year());
    
    return {
      date,
      isHolyDay: true,
      type: holyDayData.type,
      name: holyDayData.name,
      icon: holyDayData.icon,
      thaiMonth,
      thaiYear,
      dayOfWeek: dateObj.format('dddd'),
      description: info.description,
      activities: info.activities,
      majorHolyDay: {
        is: holyDayData.major || false,
        name: holyDayData.major ? holyDayData.name : null
      },
      sources: { 
        onab: true,        // ‡∏™‡∏≥‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏û‡∏∏‡∏ó‡∏ò‡∏®‡∏≤‡∏™‡∏ô‡∏≤‡πÅ‡∏´‡πà‡∏á‡∏ä‡∏≤‡∏ï‡∏¥
        thailunar: true,   // ThaiLunar.com
        fallback: true, 
        confidence: 'high' 
      }
    };
  }
  
  // ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡∏ß‡∏±‡∏ô‡∏û‡∏£‡∏∞
  const thaiMonth = getThaiMonth(dateObj.month() + 1);
  const thaiYear = getThaiYear(dateObj.year());
  
  return {
    date,
    isHolyDay: false,
    type: null,
    name: null,
    icon: null,
    thaiMonth,
    thaiYear,
    dayOfWeek: dateObj.format('dddd'),
    description: null,
    activities: [],
    majorHolyDay: { is: false, name: null },
    sources: { 
      onab: false, 
      thailunar: false, 
      fallback: true, 
      confidence: 'low' 
    }
  };
};

// ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏£‡∏≤‡∏¢‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏à‡∏≤‡∏Å fallback data
const getMonthDataFromFallback = (month, year) => {
  const holyDays = [];
  const majorHolyDays = [];
  
  // ‡∏ß‡∏ô‡∏•‡∏π‡∏õ‡∏ó‡∏∏‡∏Å‡∏ß‡∏±‡∏ô‡πÉ‡∏ô‡πÄ‡∏î‡∏∑‡∏≠‡∏ô
  const daysInMonth = dayjs(`${year}-${String(month).padStart(2, '0')}-01`).daysInMonth();
  
  for (let day = 1; day <= daysInMonth; day++) {
    const dateStr = `${year}-${String(month).padStart(2, '0')}-${String(day).padStart(2, '0')}`;
    const holyDayData = fallbackHolyDays[dateStr];
    
    if (holyDayData) {
      const dayData = {
        date: dateStr,
        type: holyDayData.type,
        name: holyDayData.name,
        icon: holyDayData.icon
      };
      
      if (holyDayData.major) {
        majorHolyDays.push({
          ...dayData,
          major: true
        });
      } else {
        holyDays.push(dayData);
      }
    }
  }
  
  return {
    month,
    year,
    thaiYear: getThaiYear(year),
    holyDays,
    majorHolyDays
  };
};

function App() {
  const [selectedDate, setSelectedDate] = useState(dayjs().format('YYYY-MM-DD'));
  const [holyDayData, setHolyDayData] = useState(null);
  const [monthData, setMonthData] = useState(null);
  const [loading, setLoading] = useState(false);
  const [error, setError] = useState(null);
  const [currentMonth, setCurrentMonth] = useState(dayjs().month() + 1);
  const [currentYear, setCurrentYear] = useState(dayjs().year());

  // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ß‡∏±‡∏ô‡∏û‡∏£‡∏∞
  const fetchHolyDayData = async (date) => {
    setLoading(true);
    setError(null);
    
    try {
      // ‡πÉ‡∏ä‡πâ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏£‡∏∞‡∏ö‡∏∏‡πÑ‡∏ß‡πâ‡∏Å‡πà‡∏≠‡∏ô (‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏õ‡∏µ 2568 ‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô)
      const data = getHolyDayDataFromFallback(date);
      setHolyDayData(data);
      
      // ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏ô fallback data ‡∏Ñ‡πà‡∏≠‡∏¢‡∏•‡∏≠‡∏á‡πÉ‡∏ä‡πâ API
      if (!data.isHolyDay && data.sources.confidence === 'low') {
        try {
          const response = await fetch(`/api/holy-day?date=${date}`);
          if (response.ok) {
            const apiData = await response.json();
            if (apiData.isHolyDay) {
              setHolyDayData(apiData);
            }
          }
        } catch (apiError) {
          console.log('API fallback failed, using local data:', apiError);
        }
      }
    } catch (err) {
      setError('‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏î‡πâ ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á');
      console.error('Error fetching holy day data:', err);
    } finally {
      setLoading(false);
    }
  };

  // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏£‡∏≤‡∏¢‡πÄ‡∏î‡∏∑‡∏≠‡∏ô
  const fetchMonthData = async (month, year) => {
    try {
      // ‡πÉ‡∏ä‡πâ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏£‡∏∞‡∏ö‡∏∏‡πÑ‡∏ß‡πâ‡∏Å‡πà‡∏≠‡∏ô (‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏õ‡∏µ 2568 ‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô)
      const data = getMonthDataFromFallback(month, year);
      setMonthData(data);
      
      // ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏ô fallback data ‡∏Ñ‡πà‡∏≠‡∏¢‡∏•‡∏≠‡∏á‡πÉ‡∏ä‡πâ API
      if (data.holyDays.length === 0 && data.majorHolyDays.length === 0) {
        try {
          const response = await fetch(`/api/holy-day?month=${month}&year=${year}`);
          if (response.ok) {
            const apiData = await response.json();
            if (apiData.holyDays.length > 0 || apiData.majorHolyDays.length > 0) {
              setMonthData(apiData);
            }
          }
        } catch (apiError) {
          console.log('API fallback failed, using local data:', apiError);
        }
      }
    } catch (err) {
      console.error('Error fetching month data:', err);
    }
  };

  // Effect ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà
  useEffect(() => {
    fetchHolyDayData(selectedDate);
  }, [selectedDate]);

  // Effect ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏£‡∏≤‡∏¢‡πÄ‡∏î‡∏∑‡∏≠‡∏ô
  useEffect(() => {
    fetchMonthData(currentMonth, currentYear);
  }, [currentMonth, currentYear]);

  // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà
  const handleDateChange = (date) => {
    setSelectedDate(date);
    const dateObj = dayjs(date);
    setCurrentMonth(dateObj.month() + 1);
    setCurrentYear(dateObj.year());
  };

  // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏î‡∏∑‡∏≠‡∏ô
  const handleMonthChange = (month, year) => {
    setCurrentMonth(month);
    setCurrentYear(year);
  };

  // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ
  const goToToday = () => {
    const today = dayjs().format('YYYY-MM-DD');
    setSelectedDate(today);
    setCurrentMonth(dayjs().month() + 1);
    setCurrentYear(dayjs().year());
  };

  return (
    <Layout>
      <div className="max-w-4xl mx-auto px-4 py-6 space-y-6">
        {/* Header Section */}
        <div className="text-center space-y-2">
          <h1 className="text-3xl md:text-4xl font-bold text-gray-800 text-shadow">
            üôè ‡∏ß‡∏±‡∏ô‡∏û‡∏£‡∏∞‡πÑ‡∏ó‡∏¢
          </h1>
          <p className="text-gray-600 text-lg">
            ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡∏±‡∏ô‡∏û‡∏£‡∏∞‡πÅ‡∏•‡∏∞‡∏ß‡∏±‡∏ô‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏ó‡∏≤‡∏á‡∏û‡∏∏‡∏ó‡∏ò‡∏®‡∏≤‡∏™‡∏ô‡∏≤
          </p>
        </div>

        {/* Date Picker Section */}
        <div className="flex flex-col sm:flex-row gap-4 items-center justify-center">
          <DatePicker
            selectedDate={selectedDate}
            onDateChange={handleDateChange}
          />
          <button
            onClick={goToToday}
            className="btn-secondary text-sm"
          >
            üìÖ ‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ
          </button>
        </div>

        {/* Loading State */}
        {loading && (
          <div className="flex justify-center py-8">
            <LoadingSpinner />
          </div>
        )}

        {/* Error State */}
        {error && (
          <div className="card bg-red-50 border-red-200 text-center">
            <p className="text-red-600">{error}</p>
            <button
              onClick={() => fetchHolyDayData(selectedDate)}
              className="btn-primary mt-3"
            >
              ‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà
            </button>
          </div>
        )}

        {/* Holy Day Card */}
        {!loading && !error && holyDayData && (
          <HolyDayCard data={holyDayData} />
        )}

        {/* Calendar Section */}
        {monthData && (
          <Calendar
            monthData={monthData}
            selectedDate={selectedDate}
            onDateSelect={handleDateChange}
            onMonthChange={handleMonthChange}
          />
        )}

      </div>
    </Layout>
  );
}

export default App;